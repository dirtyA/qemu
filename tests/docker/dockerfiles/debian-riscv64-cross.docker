#
# Docker cross-compiler target
#
# This docker target builds on the Debian Sid (with ports) base image.
#
FROM qemu/debian-sid

RUN dpkg --add-architecture riscv64
RUN apt update && \
    DEBIAN_FRONTEND=noninteractive eatmydata \
    apt install -y --no-install-recommends \
         gcc-riscv64-linux-gnu \
         libc6-dev-riscv64-cross \
         libglib2.0-dev:riscv64 \
         libpixman-1-dev:riscv64

# Specify the cross prefix for this image (see tests/docker/common.rc)
ENV QEMU_CONFIGURE_OPTS --cross-prefix=riscv64-linux-gnu-
ENV DEF_TARGET_LIST riscv64-softmmu,riscv64-linux-user
