# -*- Mode: Python -*-
# vim: filetype=python
#

##
# = Virtio devices
##

##
# @VirtioInfo:
#
# Basic information about a given VirtIODevice including the device
# canonical QOM path as well as the name of the device.
#
# @path: VirtIO device canonical QOM path
#
# @type: VirtIO device name
#
# Since: 6.2
#
##
{ 'struct': 'VirtioInfo',
    'data': {
        'path': 'str',
        'type': 'str'
    }
}

##
# @x-debug-query-virtio:
#
# Returns a list of all initalized VirtIO devices
#
# Returns: list of gathered @VirtioInfo devices
#
# Since: 6.2
#
# Example:
#
# -> { "execute": "x-debug-query-virtio" }
# <- { "return": [
#        {
#            "path": "/machine/peripheral-anon/device[4]/virtio-backend",
#            "type": "virtio-input"
#        },
#        {
#            "path": "/machine/peripheral/crypto0/virtio-backend",
#            "type": "virtio-crypto"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[2]/virtio-backend",
#            "type": "virtio-scsi"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[1]/virtio-backend",
#            "type": "virtio-net"
#        },
#        {
#            "path": "/machine/peripheral-anon/device[0]/virtio-backend",
#            "type": "virtio-serial"
#        }
#      ]
#    }
#
##

{ 'command': 'x-debug-query-virtio', 'returns': ['VirtioInfo'] }
